Import('base_env TOOLS')

SOURCES = Split("""
    ByteBuffer.cpp
    Canvas.cpp
    Collider.cpp
    CollisionBox.cpp
    Connection.cpp
    Error.cpp
    GLUtility.cpp
    Log.cpp
    Map.cpp
    MapElement.cpp
    MapLoader.cpp
    MapRenderer.cpp
    NSPRUtility.cpp
    OBJLoader.cpp
    PacketFactory.cpp
    PacketTypes.cpp
    PathHandler.cpp
    PlanarMap.cpp
    Platform.cpp
    ReaderThread.cpp
    ResourceManager.cpp
    ServerSocket.cpp
    Socket.cpp
    Texture.cpp
    Thread.cpp
    Utility.cpp
    WriterThread.cpp
    XMLParser.cpp
""")

if base_env['USE_EXTGL']:
    SOURCES.append('extgl.c')

env = base_env.Copy(tools = [TOOLS[n] for n in ['NSPR', 'Corona']])

env.Library('base', SOURCES)
